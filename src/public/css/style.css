/* Canonical NudeFlow stylesheet (migrated to src/public). */
@import url('./theme.css');

/* (Add component styles here; legacy version existed at ../../public/css/style.css) */

/* Tokens (transition etc.) specific to this module */
/* Transition tokens */
:root { --transition-fast: 120ms cubic-bezier(.4,0,.2,1); --transition-normal: 260ms cubic-bezier(.4,0,.2,1); }

/* Unified sizing / layout tokens (kept in sync with NudeForge) */
:root { --bar-height:56px; --topbar-height: var(--bar-height); --bottom-nav-height: var(--bar-height); --font-size-xs:.65rem; --font-size-sm:.75rem; --font-size-base:.9rem; --font-size-md:1rem; --font-size-lg:1.2rem; --gap-xs:.25rem; --gap-sm:.4rem; --gap-md:.65rem; --gap-lg:1rem; }

* { margin: 0; padding: 0; box-sizing: border-box; }

html, body { height: 100%; }

body { font-family: var(--font-stack); background: var(--color-bg); color: var(--color-text); -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; }

/* Prevent pull-to-refresh / overscroll glow on mobile within the app */
html, body { overscroll-behavior-y: contain; }

/* Generic page wrapper for non-feed pages so header/nav don't overlap content */
.page-wrapper { padding-top: var(--topbar-height); padding-bottom: var(--bottom-nav-height); min-height: calc(100vh - var(--bottom-nav-height)); }



/* Bottom Navigation centralized in theme.css */

/* (font / gap tokens moved to unified :root block above) */

/* Remove legacy bottom padding; we'll anchor feed between fixed header & nav */
body { padding-bottom: 0; }


/* Media feed container */
/* Feed occupies exact viewport between header and bottom nav (avoids gaps) */
#home-container { position: fixed; top: var(--topbar-height); left:0; right:0; bottom: var(--bottom-nav-height); height: auto; width:100%; overflow:hidden; }
.media { position:absolute; top:0; left:0; width:100%; height:100%; opacity:0; transform:translateY(30px); transition: opacity 420ms var(--transition-normal), transform 420ms var(--transition-normal); display:block; object-fit:contain; background: var(--color-bg); }
.media.active { opacity:1; transform:translateY(0); }

/* Fullscreen adjustments */
:fullscreen #home-container, #home-container:fullscreen { top: 0; bottom: 0; }
:fullscreen .bottom-nav { display: none !important; }
:fullscreen .app-topbar { display: none !important; }

/* Fly animations (JS adds combinations) */
.fly-in-up { animation: flyInUp .45s ease forwards; }
.fly-out-up { animation: flyOutUp .45s ease forwards; }
.fly-in-down { animation: flyInDown .45s ease forwards; }
.fly-out-down { animation: flyOutDown .45s ease forwards; }

@keyframes flyInUp { from { opacity:0; transform:translateY(35px) scale(.98);} to { opacity:1; transform:translateY(0) scale(1);} }
@keyframes flyOutUp { from { opacity:1; transform:translateY(0) scale(1);} to { opacity:0; transform:translateY(-35px) scale(.98);} }
@keyframes flyInDown { from { opacity:0; transform:translateY(-35px) scale(.98);} to { opacity:1; transform:translateY(0) scale(1);} }
@keyframes flyOutDown { from { opacity:1; transform:translateY(0) scale(1);} to { opacity:0; transform:translateY(35px) scale(.98);} }

/* Hide non-active media fully after animation completes (JS toggles active class) */
.media:not(.active) { pointer-events:none; }

/* Floating Controls */
.floating-controls { position: absolute; right: .85rem; bottom: .85rem; z-index: 130; display: flex; flex-direction: column; gap: .6rem; opacity: 0; transform: translateY(8px); transition: opacity .25s var(--transition-normal), transform .25s var(--transition-normal); }
.floating-controls.visible { opacity: 1; transform: translateY(0); }
.floating-controls.hidden { opacity: 0; transform: translateY(8px); }
.float-btn { width: 44px; height: 44px; border-radius: 999px; border: 1px solid var(--color-border); background: rgba(30,32,38,0.82); backdrop-filter: blur(10px) saturate(140%); -webkit-backdrop-filter: blur(10px) saturate(140%); color: var(--color-text); box-shadow: var(--shadow-md); display: inline-flex; align-items: center; justify-content: center; cursor: pointer; }
:root[data-theme='light'] .float-btn { background: rgba(255,255,255,0.86); }
.float-btn:hover { filter: brightness(1.08); }
.float-btn i { font-size: 1rem; }
.float-btn--save[aria-pressed="true"] i { color: var(--color-accent, #ff9800); }

/* Mobile: container already excludes bottom nav; keep equal margins and respect safe-area */
@media (max-width: 420px) {
    .floating-controls { 
        right: calc(env(safe-area-inset-right, 0px) + .65rem); 
        bottom: calc(env(safe-area-inset-bottom, 0px) + .65rem); 
    }
}

/* Timer panel */
.float-panel { position: absolute; right: 56px; bottom: 0; min-width: 180px; padding: .7rem .75rem; border-radius: var(--radius-md); border: 1px solid var(--color-border); background: rgba(30,32,38,0.9); backdrop-filter: blur(10px) saturate(140%); -webkit-backdrop-filter: blur(10px) saturate(140%); color: var(--color-text); box-shadow: var(--shadow-lg); }
:root[data-theme='light'] .float-panel { background: rgba(255,255,255,0.92); }
.float-panel .float-panel-row { font-size: .85rem; margin-bottom: .4rem; }
.float-panel .ap-range { width: 100%; }

/* Inline media overlay for Saved tab */
.media-overlay { position: fixed; inset: 0; z-index: 160; background: rgba(0,0,0,0.86); display: none; align-items: center; justify-content: center; padding: calc(var(--topbar-height) + 1rem) 1rem calc(var(--bottom-nav-height) + 1rem); }
.media-overlay.open { display: flex; }
.media-overlay .media-frame { position: relative; width: min(96vw, 1100px); height: min(74vh, calc(100vh - var(--topbar-height) - var(--bottom-nav-height) - 2rem)); display:flex; align-items:center; justify-content:center; }
.media-overlay .media-frame img, .media-overlay .media-frame video { max-width: 100%; max-height: 100%; object-fit: contain; border-radius: var(--radius-md); box-shadow: var(--shadow-2xl, 0 10px 40px rgba(0,0,0,.6)); background: #000; }
.media-overlay .close-btn { position: absolute; top: .75rem; right: .75rem; width: 42px; height: 42px; border-radius: 999px; border: 1px solid var(--color-border); background: rgba(30,32,38,0.85); color: var(--color-text); display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow: var(--shadow-md); }
:root[data-theme='light'] .media-overlay .close-btn { background: rgba(255,255,255,0.92); }
.media-overlay .nav-btn { position:absolute; top:50%; transform: translateY(-50%); width:48px; height:48px; border-radius:999px; border:1px solid var(--color-border); background: rgba(30,32,38,0.8); color: var(--color-text); display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow: var(--shadow-md); font-size: 1.2rem; }
.media-overlay .prev-btn { left: .75rem; }
.media-overlay .next-btn { right: .75rem; }
.media-overlay .nav-btn:disabled { opacity: .45; cursor: default; }


/* Top Bar moved to shared theme.css */
/* Category select styles centralized in theme.css */

/* app-logo styles centralized in theme.css */

#editProfileForm button {
    padding: 10px;
    margin: 5px;
    cursor: pointer;
}

button {
    padding: 10px;
    cursor: pointer;
}

/* Categories page (themed) */
.categories-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: var(--gap-lg); padding: 1rem 0; }
.category-card { background: var(--color-panel-bg); border:1px solid var(--color-border); border-radius: var(--radius-lg); overflow:hidden; cursor:pointer; box-shadow: var(--shadow-lg); display:flex; flex-direction:column; min-height: 170px; transition: transform .2s ease, box-shadow .2s ease; }
.category-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-accent-glow); }
.category-preview { background: var(--color-surface-alt); aspect-ratio: 16/10; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.category-preview img, .category-preview video { width:100%; height:100%; object-fit: contain; background:#000; }
.category-title { padding: .6rem .8rem; font-size: var(--font-size-sm); font-weight:600; letter-spacing:.3px; color: var(--color-text); text-align:center; background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,.06) 100%); }

/* Fullscreen overlay */
#overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7); /* Semi-transparent background */
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Content box */
.overlay-content {
    background: dark-gray;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}

/* OK button */
#okButton { background: var(--gradient-accent); color: #fff; border: none; padding: 10px 20px; font-size: 16px; cursor: pointer; border-radius: var(--radius-sm); margin-top: 10px; box-shadow: var(--shadow-md); }
#okButton:hover { filter: brightness(1.06); }

/* (Legacy error overlay styles removed in favor of unified overlay) */

.error-message .error-text {
    margin-bottom: 20px;
    line-height: 1.4;
}

.error-message .error-actions {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.error-message button { background: var(--color-danger-strong); color: #fff; border: none; padding: 12px 24px; font-size: 16px; cursor: pointer; border-radius: 6px; transition: background-color var(--transition-normal); }
.error-message button:hover { background: var(--color-danger-hover); }

.error-message .reload-button { background: var(--gradient-info); }
.error-message .reload-button:hover { background: var(--gradient-info-rev); }

/* Floating error notifications (fallback when toast utility unavailable) */
.floating-error-root { position:fixed; bottom: calc(var(--bottom-nav-height) + .75rem); right:.85rem; display:flex; flex-direction:column; gap:.65rem; z-index:140; width: min(360px, calc(100vw - 1.5rem)); }
.floating-error-notice { --accent: var(--color-danger, #ff3b30); background: rgba(30,32,38,0.88); backdrop-filter: blur(14px) saturate(160%); -webkit-backdrop-filter: blur(14px) saturate(160%); border:1px solid var(--color-border); border-left:4px solid var(--accent); padding:.9rem 1rem .95rem 1rem; border-radius: var(--radius-md); box-shadow: var(--shadow-lg); color: var(--color-text); font-size: var(--font-size-sm); line-height:1.35; position:relative; overflow:hidden; animation: fe-in .45s cubic-bezier(.4,0,.2,1); }
:root[data-theme='light'] .floating-error-notice { background: rgba(255,255,255,0.86); }
.floating-error-notice.closing { animation: fe-out .32s cubic-bezier(.4,0,.6,1) forwards; }
.floating-error-notice .fe-title { font-size:.7rem; font-weight:600; letter-spacing:.45px; text-transform:uppercase; color: var(--color-text-dim); margin:0 0 .25rem; }
.floating-error-notice .fe-text { margin:0 0 .55rem; white-space:pre-wrap; }
.floating-error-notice .fe-actions { display:flex; gap:.5rem; flex-wrap:wrap; }
.floating-error-notice .fe-btn { background: var(--gradient-info); color:#fff; border:none; padding:.45rem .85rem; border-radius: var(--radius-sm); font-size:.7rem; letter-spacing:.3px; cursor:pointer; box-shadow: var(--shadow-sm); }
.floating-error-notice .fe-btn:hover { filter:brightness(1.07); }
.floating-error-notice .fe-reload { background: var(--gradient-info); }
.floating-error-notice .fe-close { position:absolute; top:.4rem; right:.4rem; background:none; border:none; color: var(--color-text-dim); font-size:.85rem; cursor:pointer; padding:.35rem; border-radius: var(--radius-sm); }
.floating-error-notice .fe-close:hover { background: var(--color-surface-alt); color: var(--color-text); }
@keyframes fe-in { from { opacity:0; transform: translateY(8px) scale(.96);} to { opacity:1; transform: translateY(0) scale(1);} }
@keyframes fe-out { to { opacity:0; transform: translateY(4px) scale(.96);} }
@media (max-width:600px){ .floating-error-root { bottom: calc(var(--bottom-nav-height) + .75rem); right:.75rem; left:.75rem; width:auto; } }

/* Saved/Search video cards (themed) */
.results-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: var(--gap-lg); padding: 1rem 0; }
.video-item { display:flex; flex-direction:column; gap:.5rem; padding:.6rem; border:1px solid var(--color-border); border-radius: var(--radius-md); background: var(--color-surface); text-align:center; box-shadow: var(--shadow-sm); }
.video-thumbnail { border-radius: var(--radius-sm); overflow:hidden; }
.video-thumbnail img { width:100%; height:140px; object-fit: cover; display:block; transition: transform .2s ease; }
.video-thumbnail:hover img { transform: scale(1.03); }
.video-item p { margin:.35rem 0 .15rem; font-weight:600; font-size: var(--font-size-sm); color: var(--color-text); }
.video-item small { color: var(--color-text-dim); font-size: var(--font-size-xs); }
.video-item button { margin-top:6px; padding:.4rem .65rem; background: var(--gradient-info); color:#fff; border:none; border-radius: var(--radius-sm); cursor:pointer; font-size: var(--font-size-xs); box-shadow: var(--shadow-sm); }
.video-item button:hover { background: var(--gradient-info-rev); }
.video-item button + button { background: var(--color-danger-strong); }
.video-item button + button:hover { background: var(--color-danger-hover); }

/* (Legacy search container styles replaced) */
/* Saved tab: ensure full media is visible (no cropping) in previews */
#saved-container .video-thumbnail { height: 160px; display:flex; align-items:center; justify-content:center; background: #000; border-radius: 4px; overflow: hidden; }
#saved-container .video-thumbnail img { height: 100%; width: 100%; object-fit: contain; border-radius: 0; }
@media (max-width: 480px){ #saved-container .video-thumbnail { height: 140px; } }

/* Light/Dark header & bottom-nav overrides centralized in theme.css */
